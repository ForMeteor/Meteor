(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["repFormConfig"],{1265:function(e,t,a){"use strict";var n=a("aa88"),s=a.n(n);s.a},"1e24":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"tabs"},[a("ul",[a("li",{on:{click:function(t){return e.clickNavItem("1")}}},[a("div",{staticClass:"tabDiv",class:"1"==e.tabConfValue?"action":""},[a("div",{staticClass:"tabTitle",staticStyle:{width:"370px"}},[a("div",{staticClass:"numDiv"},[e._v("1")]),e._v("工作报表基础信息配置")]),a("div",{staticClass:"tabArrow"})])]),a("li",{on:{click:function(t){return e.clickNavItem("2")}}},[a("div",{staticClass:"tabDiv",class:"2"==e.tabConfValue?"action":""},[a("div",{staticClass:"tabTitle",staticStyle:{width:"290px"}},[a("div",{staticClass:"numDiv"},[e._v("2")]),e._v("工作报表表头配置")]),a("div",{staticClass:"tabArrow"})])])])]),a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v(e._s(e.headerTitle))])]),"1"==e.tabConfValue?a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"headBox"},[a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:e.basicAdd}},[e._v("新增")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",icon:"iconfont icon-shanchu"},on:{click:e.baseDel}},[e._v("删除")])],1),a("div",{staticClass:"searchBox"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"企业类别"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.baseParams.companyType,callback:function(t){e.$set(e.baseParams,"companyType","string"===typeof t?t.trim():t)},expression:"baseParams.companyType"}},e._l(e.salesUnitOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"企业"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.baseParams.companySend,callback:function(t){e.$set(e.baseParams,"companySend","string"===typeof t?t.trim():t)},expression:"baseParams.companySend"}},e._l(e.companyOption,function(e){return a("el-option",{key:e.code,attrs:{label:e.sname,value:e.code}})}),1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.baseParams.status,callback:function(t){e.$set(e.baseParams,"status","string"===typeof t?t.trim():t)},expression:"baseParams.status"}},e._l(e.statusOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-button",{staticClass:"delBtn btn-chaxun",attrs:{type:"primary",icon:"iconfont icon-chaxun"},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.baseSearch(t)}}},[e._v("查询")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"contentBox"},[a("el-table",{key:"baseTableData",staticStyle:{width:"100%"},attrs:{data:e.baseTableData,"header-cell-style":{textAlign:"center"}},on:{"selection-change":e.baseTableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.baseEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.issueEdit(t.row)}}},[e._v("下发详情")])]}}],null,!1,2422299558)}),a("el-table-column",{attrs:{prop:"reportName",label:"报表名称"}}),a("el-table-column",{attrs:{label:"报表状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("span",[e._v("已下发")]):e._e(),0==t.row.status?a("span",[e._v("未下发")]):e._e()]}}],null,!1,2157780781)}),a("el-table-column",{attrs:{prop:"plateSend",label:"下发板块"}}),a("el-table-column",{attrs:{prop:"companySend",label:"下发企业"}}),a("el-table-column",{attrs:{label:"子报表名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.reportNameGet(t.row.children)))])]}}],null,!1,2177610059)}),a("el-table-column",{attrs:{prop:"crtDate",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"crtUserName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"mntDate",label:"维护时间"}}),a("el-table-column",{attrs:{prop:"mntUserName",label:"维护人"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.baseTotal>0,expression:"baseTotal > 0"}],key:"baseTableDataPage",attrs:{total:e.baseTotal,page:e.baseParams.pageNumber,limit:e.baseParams.pageSize},on:{"update:page":function(t){return e.$set(e.baseParams,"pageNumber",t)},"update:limit":function(t){return e.$set(e.baseParams,"pageSize",t)},pagination:e.baseSearch}})],1)])]):e._e(),"2"==e.tabConfValue?a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"headBox"},[a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:e.addShow}},[e._v("新增")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",icon:"iconfont icon-shanchu"},on:{click:e.titleDel}},[e._v("删除")]),a("el-button",{staticClass:"addBtn btn-yulan",attrs:{type:"primary"},on:{click:e.CTPShow}},[e._v("预览")]),a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",disabled:e.btnIfAct},on:{click:e.confirmIssu}},[e._v("确认下发")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",disabled:!e.btnIfAct},on:{click:e.cancelIssu}},[e._v("取消下发")])],1),a("div",{staticClass:"searchBox"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"报表名称/子报表名称"}},[a("el-select",{attrs:{size:"small",clearable:""},on:{change:e.ifAceChange},model:{value:e.titleParams.reportId,callback:function(t){e.$set(e.titleParams,"reportId","string"===typeof t?t.trim():t)},expression:"titleParams.reportId"}},e._l(e.selectOption,function(e){return a("el-option",{key:e.id,attrs:{label:e.reportName,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择销售单位",size:"small",clearable:""},model:{value:e.titleParams.status,callback:function(t){e.$set(e.titleParams,"status","string"===typeof t?t.trim():t)},expression:"titleParams.status"}},e._l(e.statusOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-button",{staticClass:"delBtn btn-chaxun",attrs:{type:"primary",icon:"iconfont icon-chaxun"},on:{click:e.titleSearch}},[e._v("查询")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"contentBox"},[a("el-table",{key:"tableTitleData",staticStyle:{width:"100%"},attrs:{data:e.tableTitleData,"header-cell-style":{textAlign:"center"}},on:{"selection-change":e.tableTitleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addEdit(t.row)}}},[e._v("编辑")])]}}],null,!1,92033959)}),a("el-table-column",{attrs:{label:"报表名称/子报表名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reportInfo?a("span",[e._v(e._s(t.row.reportInfo.reportName))]):e._e()]}}],null,!1,2309513566)}),a("el-table-column",{attrs:{label:"报表状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reportInfo&&1==t.row.reportInfo.status?a("span",[e._v("已下发")]):e._e(),t.row.reportInfo&&0==t.row.reportInfo.status?a("span",[e._v("未下发")]):e._e()]}}],null,!1,930064333)}),a("el-table-column",{attrs:{label:"一级标题名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.titleLvl1||"无"))])]}}],null,!1,272952641)}),a("el-table-column",{attrs:{label:"是否包含二级标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:t.row.titleLvl2,expression:"scope.row.titleLvl2"}]},[e._v("是")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.titleLvl2,expression:"!scope.row.titleLvl2"}]},[e._v("否")])]}}],null,!1,1353169341)}),a("el-table-column",{attrs:{prop:"titleLvl2",label:"二级标题名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.titleLvl2||"无"))])]}}],null,!1,4080067682)}),a("el-table-column",{attrs:{label:"是否包含三级标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:t.row.titleLvl3,expression:"scope.row.titleLvl3"}]},[e._v("是")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.titleLvl3,expression:"!scope.row.titleLvl3"}]},[e._v("否")])]}}],null,!1,3206091869)}),a("el-table-column",{attrs:{prop:"titleLvl3",label:"三级标题名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.titleLvl3||"无"))])]}}],null,!1,3891105539)}),a("el-table-column",{attrs:{label:"是否包含四级标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:t.row.titleLvl4,expression:"scope.row.titleLvl4"}]},[e._v("是")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.titleLvl4,expression:"!scope.row.titleLvl4"}]},[e._v("否")])]}}],null,!1,3210540029)}),a("el-table-column",{attrs:{prop:"titleLvl4",label:"四级标题名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.titleLvl4||"无"))])]}}],null,!1,3526150180)}),a("el-table-column",{attrs:{prop:"colOrder",label:"报表列排序"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{input:function(a){return e.rowCellEdit(t.row)}},model:{value:t.row.colOrder,callback:function(a){e.$set(t.row,"colOrder",a)},expression:"scope.row.colOrder"}})]}}],null,!1,2761435138)}),a("el-table-column",{attrs:{prop:"colNumberScale",label:"小数点位数"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.colType?a("el-input",{on:{input:function(a){return e.rowCellEdit(t.row)}},model:{value:t.row.colNumberScale,callback:function(a){e.$set(t.row,"colNumberScale",a)},expression:"scope.row.colNumberScale"}}):e._e(),0==t.row.colType?a("span"):e._e()]}}],null,!1,1599829131)}),a("el-table-column",{attrs:{prop:"colWidth",label:"表格宽度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{input:function(a){return e.rowCellEdit(t.row)}},model:{value:t.row.colWidth,callback:function(a){e.$set(t.row,"colWidth",a)},expression:"scope.row.colWidth"}})]}}],null,!1,779304010)}),a("el-table-column",{attrs:{width:"180",label:"表格类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){return e.rowCellEdit(t.row)}},model:{value:t.row.colType,callback:function(a){e.$set(t.row,"colType",a)},expression:"scope.row.colType"}},[a("el-option",{attrs:{label:"数字",value:"1"}}),a("el-option",{attrs:{label:"文本",value:"0"}})],1)]}}],null,!1,4091389036)}),a("el-table-column",{attrs:{width:"180",label:"是否手动输入"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){return e.rowCellEdit(t.row)}},model:{value:t.row.colInputType,callback:function(a){e.$set(t.row,"colInputType",a)},expression:"scope.row.colInputType"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)]}}],null,!1,409106047)}),a("el-table-column",{attrs:{prop:"colCalExpression",label:"计算公式"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.colInputType?a("el-button",{on:{click:function(a){return e.expressSet(t.row)}}},[e._v("设置")]):e._e(),1==t.row.colInputType?a("span"):e._e()]}}],null,!1,417215946)}),a("el-table-column",{attrs:{prop:"crtDate",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"crtUserName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"mntDate",label:"维护时间"}}),a("el-table-column",{attrs:{prop:"mntUserName",label:"维护人"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.titleTotal>0,expression:"titleTotal > 0"}],key:"tableTitleDataPage",attrs:{total:e.titleTotal,page:e.titleParams.pageNumber,limit:e.titleParams.pageSize},on:{"update:page":function(t){return e.$set(e.titleParams,"pageNumber",t)},"update:limit":function(t){return e.$set(e.titleParams,"pageSize",t)},pagination:e.titleSearch}})],1)])]):e._e()]),a("el-dialog",{attrs:{title:"工作报表表头配置",visible:e.addDia,width:"600px"},on:{"update:visible":function(t){e.addDia=t}}},[a("div",{staticClass:"line"},[a("div",{staticClass:"lineTitle"},[e._v("报表名称/子报表名称:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addList.reportId,callback:function(t){e.$set(e.addList,"reportId",t)},expression:"addList.reportId\n          "}},e._l(e.selectOption,function(e){return a("el-option",{key:e.id,attrs:{label:e.reportName,value:e.id}})}),1)],1),a("ListLine",{attrs:{addList:e.addList}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDia=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.showData}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"工作报表基础信息配置",visible:e.baseInfoShow,width:"600px"},on:{"update:visible":function(t){e.baseInfoShow=t}}},[a("div",{staticClass:"mainLine",staticStyle:{"margin-top":"30px"}},[a("el-button",{staticClass:"rightBtn btn-baocun",attrs:{type:"primary",icon:"iconfont icon-baocun"},on:{click:e.basicStore}},[e._v("保存")])],1),a("div",{staticClass:"mainLine"},[a("div",{staticClass:"subhead"},[e._v("报表名称")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.baseInfoSet.reportName,callback:function(t){e.$set(e.baseInfoSet,"reportName",t)},expression:"baseInfoSet.reportName"}}),a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:e.addSubList}},[e._v("新增子报表")])],1),a("div",{staticClass:"mainLine"},[a("div",{staticClass:"subhead"},[e._v("下发板块")]),a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.baseInfoSet.plateSend,callback:function(t){e.$set(e.baseInfoSet,"plateSend","string"===typeof t?t.trim():t)},expression:"baseInfoSet.plateSend"}},e._l(e.salesUnitOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("div",{staticClass:"subhead"},[e._v("下发企业")]),a("el-select",{attrs:{size:"small",multiple:"",clearable:""},model:{value:e.baseInfoSet.companySend,callback:function(t){e.$set(e.baseInfoSet,"companySend","string"===typeof t?t.trim():t)},expression:"baseInfoSet.companySend"}},e._l(e.companyOption,function(e){return a("el-option",{key:e.sname,attrs:{label:e.sname,value:e.sname}})}),1),a("div",{staticClass:"roomSpace"})],1),e._l(e.baseInfoSet.childrenReport,function(t,n){return a("div",{key:n,staticClass:"mainLine"},[a("div",{staticClass:"subhead"},[e._v("子报表名称")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.reportName,callback:function(a){e.$set(t,"reportName",a)},expression:"r.reportName"}}),a("div",{staticClass:"subhead"},[e._v("子报表顺序")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.order,callback:function(a){e.$set(t,"order",a)},expression:"r.order"}}),a("div",{staticClass:"roomSpace"})],1)}),e.baseInfoSet.id?e._e():a("div",{staticClass:"mainLine"},[a("div",{staticClass:"subhead"},[e._v("创建时间")]),a("div",{staticClass:"textShow"},[e._v(e._s(e.currentTime))]),a("div",{staticClass:"subhead"},[e._v("创建人")]),a("div",{staticClass:"textShow"},[e._v(e._s(e.userName))]),a("div",{staticClass:"roomSpace"})])],2),a("el-dialog",{attrs:{title:"填报放射源统计表下发单位详情",visible:e.issueInfoShow,width:"600px"},on:{"update:visible":function(t){e.issueInfoShow=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{prop:"plateSend",label:"下发板块"}}),a("el-table-column",{attrs:{prop:"companySend",label:"下发企业"}})],1)],1),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{title:"预览",visible:e.CTPDia,width:"600px"},on:{"update:visible":function(t){e.CTPDia=t}}},[e.CTPDia?a("MyTable",{staticStyle:{width:"100%"},attrs:{col:e.colTitleData,data:e.colListData}}):e._e()],1)],1)},s=[],i=a("cebc"),r=a("f499"),o=a.n(r),l=(a("28a5"),a("6b54"),a("c5f6"),a("5176")),c=a.n(l),u=a("c113"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"itemBox",style:{marginLeft:"20px"}},[a("div",{staticClass:"mainLine"},[a("div",{staticClass:"subhead"},[e._v("一级标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addList.titleLvl1,callback:function(t){e.$set(e.addList,"titleLvl1",t)},expression:"addList.titleLvl1"}}),a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:function(t){return e.addNext(1)}}},[e._v("新增二级标题")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addList.show2||e.addList.titleLvl2,expression:"addList.show2 || addList.titleLvl2"}],staticClass:"mainLine",style:{marginLeft:"20px"}},[a("div",{staticClass:"subhead"},[e._v("二级标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addList.titleLvl2,callback:function(t){e.$set(e.addList,"titleLvl2",t)},expression:"addList.titleLvl2"}}),a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:function(t){return e.addNext(2)}}},[e._v("新增三级标题")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addList.show3||e.addList.titleLvl3,expression:"addList.show3 || addList.titleLvl3"}],staticClass:"mainLine",style:{marginLeft:"40px"}},[a("div",{staticClass:"subhead"},[e._v("三级标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addList.titleLvl3,callback:function(t){e.$set(e.addList,"titleLvl3",t)},expression:"addList.titleLvl3"}}),a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:function(t){return e.addNext(3)}}},[e._v("新增四级标题")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.addList.show4||e.addList.titleLvl4,expression:"addList.show4 || addList.titleLvl4"}],staticClass:"mainLine",style:{marginLeft:"60px"}},[a("div",{staticClass:"subhead"},[e._v("四级标题")]),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.addList.titleLvl4,callback:function(t){e.$set(e.addList,"titleLvl4",t)},expression:"addList.titleLvl4"}})],1)])},m=[],d={name:"listLinePro",props:["addList"],data:function(){return{titleOption:["一级标题","二级标题","三级标题","四级标题"]}},watch:{addList:function(e,t){}},computed:{},mounted:function(){},methods:{addNext:function(e){1===e?this.$set(this.addList,"show2",!0):2===e?this.$set(this.addList,"show3",!0):3===e&&this.$set(this.addList,"show4",!0)}}},h=d,f=(a("d630"),a("2877")),b=Object(f["a"])(h,p,m,!1,null,"4c955c82",null),g=b.exports,y=a("ece8"),v=a("c1df"),C=a.n(v),T={name:"WorkRepFormInfoConfig",components:{ListLine:g,MyTable:y["a"]},mixins:[u["a"]],data:function(){return{addDia:!1,tableLoading:!1,baseInfoShow:!1,issueInfoShow:!1,CTPDia:!1,currentTime:null,btnIfAct:!1,addList:{reportId:null},addType:1,baseType:1,baseInfoSet:{childrenReport:[],companySend:"",id:0,order:0,plateSend:"",reportName:""},selectedData:null,baseTableData:[],tableTitleData:[],headerTitle:"工作报表基础信息配置",tabConfValue:"1",baseParams:{companySend:"",companyType:"",status:"",pageNumber:1,pageSize:20},baseTotal:10,titleParams:{reportId:"",status:"",pageNumber:1,pageSize:20},titleTotal:10,tableData:[],colTitleData:[],colListData:[{}],selectOption:null,salesUnitOption:[{value:"",label:"全部"},{value:"油气田板块",label:"油气田板块"},{value:"炼化板块",label:"炼化板块"},{value:"销售板块",label:"销售板块"},{value:"其他板块",label:"其他板块"}],companyOption:[{code:"",sname:"全部"},{code:"胜利油田",sname:"胜利油田"},{code:"天津石油",sname:"天津石油"},{code:"化工销售公司",sname:"化工销售公司"},{code:"新气管道公司",sname:"新气管道公司"},{code:"河南石油",sname:"河南石油"},{code:"润滑油分公司",sname:"润滑油分公司"},{code:"炼油销售公司",sname:"炼油销售公司"}],statusOption:[{label:"全部",value:""},{label:"已下发",value:"1"},{label:"未下发",value:"0"}]}},computed:{userName:function(){return this.$store.state.user.userName}},watch:{},created:function(){this.baseSearch(),this.getOption()},mounted:function(){},methods:{getOption:function(){var e=this;this.$http.get(this.$API.GA_POST_TABLETITLESELECT).then(function(t){t.success&&(e.selectOption=t.data)}).catch(function(){e.$message({type:"error",message:"查询失败！"})})},reportNameGet:function(e){var t=e.length,a="";if(0===t)return a;for(var n=0;n<t;n++)a=a+e[n].reportName+",";return a=a.substring(0,a.length-1),a},baseSearch:function(){var e=this,t=c()({},this.baseParams);t.pageNumber=t.pageNumber-1,this.tableLoading=!0,this.$http.get(this.$API.GA_POST_BASEINFOTABLELIST,t).then(function(t){t.success&&(e.baseTableData=t.data.content,e.baseTotal=Number(t.data.totalElements))}).catch(function(){e.$message({type:"error",message:"查询失败！"})}).finally(function(){e.tableLoading=!1})},titleSearch:function(){var e=this;if(this.titleParams.reportId){var t=c()({},this.titleParams);t.pageNumber=t.pageNumber-1,this.tableLoading=!0,this.$http.get(this.$API.GA_POST_TABLETITLELIST,t).then(function(t){if(t.success){e.tableTitleData=t.data.content;for(var a=0;a<e.tableTitleData.length;a++)null!=e.tableTitleData[a].colType&&(e.tableTitleData[a].colType=e.tableTitleData[a].colType.toString()),null!=e.tableTitleData[a].colInputType&&(e.tableTitleData[a].colInputType=e.tableTitleData[a].colInputType.toString());e.titleTotal=Number(t.data.totalElements)}}).catch(function(){e.$message({type:"error",message:"查询失败！"})}).finally(function(){e.tableLoading=!1})}},clickNavItem:function(e){this.tabConfValue=e,this.getOption(),this.headerTitle="1"===this.tabConfValue?"工作报表基础信息配置":"工作报表表头配置"},baseEdit:function(e){var t=this;this.$nextTick(function(){t.baseType=2,t.baseInfoSet=e,t.baseInfoSet.order=e.orderNum,t.baseInfoSet.companySend=e.companySend.split(","),t.$set(t.baseInfoSet,"childrenReport",e.children);for(var a=0;a<t.baseInfoSet.childrenReport.length;a++)t.$set(t.baseInfoSet.childrenReport[a],"order",t.baseInfoSet.childrenReport[a].orderNum);delete t.baseInfoSet.children,delete t.baseInfoSet.orderNum}),this.basicShow()},baseDel:function(){var e=this;if(0!==this.selectedData.length){for(var t=[],a=0;a<this.selectedData.length;a++){if(0===this.selectedData[a].status)return void this.$message({type:"warning",message:"存在已下发列表！"});t.push(this.selectedData[a].id)}t=o()(t),this.$http.deletePro(this.$API.GA_POST_BASEINFO,t).then(function(t){t.success&&(e.$message({type:"success",message:"删除成功！"}),e.selectedData=null,e.baseSearch())}).catch(function(){e.$message({type:"error",message:"删除失败！"})})}},issueEdit:function(e){this.tableData=[];var t={plateSend:e.plateSend,companySend:e.companySend};this.tableData.push(t),this.issueInfoShow=!0},baseTableSelectionChange:function(e){this.selectedData=e},tableTitleSelectionChange:function(e){this.selectedData=e},basicAdd:function(){this.baseInfoSet={childrenReport:[],companySend:"",order:0,plateSend:"",reportName:""},this.baseType=1,this.currentTime=C()(new Date).format("YYYY-MM-DD hh:mm:ss"),this.basicShow()},basicShow:function(){this.baseInfoShow=!0},addSubList:function(){var e=this.baseInfoSet.childrenReport.length;this.baseInfoSet.childrenReport.push({childrenReport:null,companySend:"",plateSend:"",subName:"",order:e})},basicStore:function(){var e=this;if(this.baseInfoSet.companySend&&this.baseInfoSet.plateSend&&this.baseInfoSet.reportName){for(var t=c()({},this.baseInfoSet),a=[],n=0;n<t.childrenReport.length;n++)t.childrenReport[n].reportName&&a.push(t.childrenReport[n]);t.childrenReport=a,t.companySend=t.companySend.toString(),1===this.baseType?this.$http.post(this.$API.GA_POST_BASEINFO,t).then(function(e){}).catch(function(){e.$message({type:"error",message:"保存失败！"})}).finally(function(){e.baseInfoShow=!1,e.baseSearch()}):this.$http.put(this.$API.GA_POST_BASEINFO,t).then(function(e){}).catch(function(){e.$message({type:"error",message:"编辑失败！"})}).finally(function(){e.baseInfoShow=!1,e.baseSearch()})}else this.$message({type:"warning",message:"请填写完整！"})},addShow:function(){this.addDia=!0,this.addType=1,this.addList={titleLvl1:"",titleLvl2:"",titleLvl3:"",titleLvl4:""}},addEdit:function(e){1!==e.reportInfo.status?(this.addType=2,this.addList=e,this.addDia=!0):this.$message({type:"warning",message:"该表已下发！"})},rowCellEdit:function(e){var t=this;1!==e.reportInfo.status?(this.addList=e,this.$http.put(this.$API.GA_POST_TABLETITLE,this.addList).then(function(e){t.titleSearch()}).catch(function(){t.$message({type:"error",message:"编辑失败！"})})):this.$message({type:"warning",message:"该表已下发！"})},expressSet:function(e){1!==e.reportInfo.status?this.$message({type:"warning",message:"未开发"}):this.$message({type:"warning",message:"该表已下发！"})},showData:function(){var e=this;this.addDia=!1,this.addList.reportId?(1===this.addType?this.$http.post(this.$API.GA_POST_TABLETITLE,this.addList).then(function(t){e.titleSearch()}).catch(function(){e.$message({type:"error",message:"新增失败！"})}):this.$http.put(this.$API.GA_POST_TABLETITLE,this.addList).then(function(t){e.titleSearch()}).catch(function(){e.$message({type:"error",message:"编辑失败！"})}),this.addList={reportId:null}):this.$message({type:"warning",message:"请先选择表！"})},titleDel:function(){var e=this;if(0!==this.selectedData.length){for(var t=[],a=0;a<this.selectedData.length;a++){if(1===this.selectedData[a].reportInfo.status)return void this.$message({type:"warning",message:"该表已下发！"});t.push(this.selectedData[a].id)}t=o()(t),this.$http.deletePro(this.$API.GA_POST_TABLETITLE,t).then(function(t){t.success&&(e.$message({type:"success",message:"删除成功！"}),e.selectedData=null,e.titleSearch())}).catch(function(){e.$message({type:"error",message:"删除失败！"})})}},CTPShow:function(){var e=this;if(!this.titleParams.reportId)return this.$message({type:"error",message:"请先选择报表！"}),!1;this.tableLoading=!0,this.$http.get(this.$API.GA_POST_TABLETITLEPREVIEW,{reportId:Number(this.titleParams.reportId)}).then(function(t){t.success&&(e.$store.commit("setTableTypeFalse"),e.colTitleData=e.dataDeal(t.data))}).catch(function(){e.$message({type:"error",message:"预览失败！"})}).finally(function(){e.tableLoading=!1,e.CTPDia=!0})},CTPHide:function(){this.CTPDia=!1},ifAceChange:function(){for(var e=0;e<this.selectOption.length;e++)this.selectOption[e].id===this.titleParams.reportId&&(0===this.selectOption[e].status?this.btnIfAct=!1:this.btnIfAct=!0)},confirmIssu:function(){var e=this;if(!this.titleParams.reportId)return this.$message({type:"error",message:"请先选择报表！"}),!1;var t=Number(this.titleParams.reportId),a="".concat(this.$API.GA_POST_TABLETITLECONFIRM,"?reportId=").concat(t);this.$http.put(a,{}).then(function(t){t.success&&e.$message({type:"success",message:"下发成功！"})}).catch(function(){e.$message({type:"error",message:"下发失败！"})}).finally(function(){e.titleSearch()})},cancelIssu:function(){var e=this;if(!this.titleParams.reportId)return!1;var t=Number(this.titleParams.reportId),a="".concat(this.$API.GA_POST_TABLETITLECANCEL,"?reportId=").concat(t);this.$http.put(a,{}).then(function(t){t.success&&e.$message({type:"success",message:"取消成功！"})}).catch(function(){e.$message({type:"error",message:"取消失败！"})}).finally(function(){e.titleSearch()})},dataDeal:function(e){for(var t=this.lineToTree(e,"titleLvl1"),a=0;a<t.length;a++){t[a].children=this.lineToTree(t[a].children,"titleLvl2");for(var n=0;n<t[a].children.length;n++){t[a].children[n].children=this.lineToTree(t[a].children[n].children,"titleLvl3");for(var s=0;s<t[a].children[n].children.length;s++)for(var i=0;i<t[a].children[n].children[s].children.length;i++)t[a].children[n].children[s].children[i].label=t[a].children[n].children[s].children[i].titleLvl4}}return t},lineToTree:function(e,t){for(var a=[],n=[],s=0;s<e.length;s++){var i=this.ifExist(a,e[s][t]);if(i.bool){var r=c()({},e[s]);r.children=[],n[i.index].children.push(r)}else{if(!e[s][t])continue;a.push(e[s][t]);var o={label:e[s][t],children:[]};o.children.push(e[s]),n.push(o)}}return n},ifExist:function(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return{bool:!0,index:a};return{bool:!1,index:null}}}},S=Object(i["a"])({},T),w=S,x=(a("a019"),Object(f["a"])(w,n,s,!1,null,"63001703",null));t["default"]=x.exports},"1e61":function(e,t,a){"use strict";var n=a("4dcf"),s=a.n(n);s.a},2298:function(e,t,a){"use strict";var n=a("8ac4"),s=a.n(n);s.a},2392:function(e,t,a){},3040:function(e,t,a){},"37fa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"tabs"},[a("ul",[a("li",{on:{click:function(t){return e.clickNavItem("company")}}},[a("div",{staticClass:"tabDiv",class:"company"==e.tabConfValue?"action":""},[a("div",{staticClass:"tabTitle",staticStyle:{width:"370px"}},[a("div",{staticClass:"numDiv"},[e._v("1")]),e._v("绿化工作报表企业类别企业名称配置")]),a("div",{staticClass:"tabArrow"})])]),a("li",{on:{click:function(t){return e.clickNavItem("cycle")}}},[a("div",{staticClass:"tabDiv",class:"cycle"==e.tabConfValue?"action":""},[a("div",{staticClass:"tabTitle",staticStyle:{width:"290px"}},[a("div",{staticClass:"numDiv"},[e._v("2")]),e._v("填报周期与注释说明配置")]),a("div",{staticClass:"tabArrow"})])])])]),a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v(e._s(e.headerTitle))])]),a("div",{staticClass:"sysConf-tabsBox"},["company"==e.tabConfValue?a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("self-search",{ref:"$baseGenerateSearch",staticClass:"searchForm",attrs:{searchOpts:e.colModel},on:{"on-search":e.onSearch}}),a("div",{staticClass:"permission-parameters-BtnBox"},[a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:e.addTableOneTr}},[e._v("新增")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",icon:"iconfont icon-shanchu"},on:{click:e.removeTableData}},[e._v("删除")])],1)],1)]),a("div",{staticClass:"permission-parameters-tableBox"},[a("table-com",{ref:"multipleTGaCompanyName",attrs:{permissionparametersTablecolumn:e.permissionparametersTablecolumn,permissionparametersTableData:e.permissionparametersTableData,isSelect:!0,height:e.height,loading:e.loading,total:e.total,pageSize:e.pageSize,pageSizes:e.pageSizes,currentPage:e.currentPage,isPage:e.isPage,isBz:!0,isCZ:e.isCZ,isCZName:e.isCZName,btnList:e.btnList},on:{"update:total":function(t){e.total=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},onBtnClick:e.onBtnClick,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange,handleSelectionChange:e.handleSelectionChange}})],1),a("el-dialog",{attrs:{title:"绿化工作报表企业类别企业名称编辑",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"addBox"},[a("div",{staticClass:"addSearchBox"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("el-button",{staticClass:"qd btn-baocun",staticStyle:{float:"right"},attrs:{type:"primary",icon:"iconfont icon-baocun"},on:{click:e.dialogVisibleBC}},[e._v("保存")])],1)])]),a("div",{staticClass:"permission-parameters-tableBox"},[a("el-form",{ref:"tGaCompanyName",attrs:{model:e.tGaCompanyName,rules:e.tGaCompanyNameValidate,"label-width":"170px"}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"企业类别:",prop:"epCompanyCategory",rules:{required:!0,message:"企业类别不能为空",trigger:"change"}}},[a("el-select",{staticClass:"w60",model:{value:e.tGaCompanyName.epCompanyCategory,callback:function(t){e.$set(e.tGaCompanyName,"epCompanyCategory",t)},expression:"tGaCompanyName.epCompanyCategory"}},e._l(e.epCompanyCategoryList,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"企业:",prop:"epCompanyCode",rules:{required:!0,message:"企业不能为空",trigger:"change"}}},[a("el-select",{staticClass:"w60",attrs:{filterable:""},on:{change:e.changeEpCompany},model:{value:e.tGaCompanyName.epCompanyCode,callback:function(t){e.$set(e.tGaCompanyName,"epCompanyCode",t)},expression:"tGaCompanyName.epCompanyCode"}},e._l(e.epCompanyList,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.sname}})}),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"绿化工作报表企业类别:",prop:"companyCategory",rules:{required:!0,message:"绿化工作报表企业类别不能为空",trigger:"change"}}},[a("el-select",{staticClass:"w60",model:{value:e.tGaCompanyName.companyCategory,callback:function(t){e.$set(e.tGaCompanyName,"companyCategory",t)},expression:"tGaCompanyName.companyCategory"}},[a("el-option",{attrs:{value:"1",label:"油田企业"}}),a("el-option",{attrs:{value:"2",label:"炼化企业"}}),a("el-option",{attrs:{value:"3",label:"销售企业"}}),a("el-option",{attrs:{value:"4",label:"其他企业"}})],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"绿化工作报表企业:",prop:"companyName",rules:{required:!0,message:"绿化工作报表企业不能为空",trigger:"blur"}}},[a("el-input",{staticClass:"w60",attrs:{readonly:e.isEdit,type:"text",placeholder:"请输入绿化工作报表企业"},model:{value:e.tGaCompanyName.companyName,callback:function(t){e.$set(e.tGaCompanyName,"companyName",t)},expression:"tGaCompanyName.companyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"本企业类别企业排序:",prop:"sort",rules:{required:!0,message:"企业排序不能为空",trigger:"blur"}}},[a("el-input-number",{staticClass:"w60",attrs:{type:"text",placeholder:"请输入企业排序"},model:{value:e.tGaCompanyName.sort,callback:function(t){e.$set(e.tGaCompanyName,"sort",t)},expression:"tGaCompanyName.sort"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"是否启用:",prop:"enable"}},[a("el-switch",{attrs:{"active-color":"#45C8DC","active-value":1,"inactive-value":2,"on-color":"red"},model:{value:e.tGaCompanyName.enable,callback:function(t){e.$set(e.tGaCompanyName,"enable",t)},expression:"tGaCompanyName.enable"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"50px"}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"创建时间:",prop:"crtDate"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaCompanyName.crtDate,callback:function(t){e.$set(e.tGaCompanyName,"crtDate",t)},expression:"tGaCompanyName.crtDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"创建人:",prop:"crtPerson"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaCompanyName.crtPerson,callback:function(t){e.$set(e.tGaCompanyName,"crtPerson",t)},expression:"tGaCompanyName.crtPerson"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"维护时间:",prop:"mntDate"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaCompanyName.mntDate,callback:function(t){e.$set(e.tGaCompanyName,"mntDate",t)},expression:"tGaCompanyName.mntDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"维护人:",prop:"mntPerson"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaCompanyName.mntPerson,callback:function(t){e.$set(e.tGaCompanyName,"mntPerson",t)},expression:"tGaCompanyName.mntPerson"}})],1)],1)],1)],1)],1)])])],1):a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("self-search",{ref:"$baseGenerateSearch",staticClass:"searchForm",attrs:{searchOpts:e.colModel},on:{"on-search":e.onSearch}}),a("div",{staticClass:"permission-parameters-BtnBox"},[a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"},on:{click:e.addTableOneTr}},[e._v("新增")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",icon:"iconfont icon-shanchu"},on:{click:e.removeTableData}},[e._v("删除")])],1)],1)]),a("div",{staticClass:"permission-parameters-tableBox"},[a("table-com",{attrs:{permissionparametersTablecolumn:e.permissionparametersTablecolumn,permissionparametersTableData:e.permissionparametersTableData,isSelect:e.isSelect,height:e.height,loading:e.loading,total:e.total,isCZ:e.isCZ,isCZName:e.isCZName,btnList:e.btnList,pageSize:e.pageSize,pageSizes:e.pageSizes,currentPage:e.currentPage,isPage:e.isPage},on:{"update:total":function(t){e.total=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange,handleSelectionChange:e.handleSelectionChange,onBtnClick:e.onBtnClick}})],1),a("el-dialog",{attrs:{title:"填报周期与注释说明编辑",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"addBox"},[a("div",{staticClass:"addSearchBox"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("el-button",{staticClass:"qd btn-baocun",staticStyle:{float:"right"},attrs:{type:"primary",icon:"iconfont icon-baocun"},on:{click:e.dialogVisibleBC2}},[e._v("保存")])],1)])]),a("div",{staticClass:"permission-parameters-tableBox"},[a("el-form",{ref:"tGaConfigReportPeriodComment",attrs:{model:e.tGaConfigReportPeriodComment,rules:e.tGaConfigReportPeriodCommentValidate,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[a("el-form-item",{attrs:{label:"报表页面名称:",prop:"reportName",rules:{required:!0,message:"报表页面名称不能为空",trigger:"change"}}},[a("el-select",{staticClass:"w70",model:{value:e.tGaConfigReportPeriodComment.reportName,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"reportName",t)},expression:"tGaConfigReportPeriodComment.reportName"}},e._l(e.reportNameList,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[a("el-form-item",{attrs:{label:"是否启用:",prop:"enable"}},[a("el-switch",{attrs:{"active-color":"#45C8DC","active-value":1,"inactive-value":2,"on-color":"red"},model:{value:e.tGaConfigReportPeriodComment.enable,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"enable",t)},expression:"tGaConfigReportPeriodComment.enable"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[a("el-form-item",{attrs:{label:"页面注释标题:",prop:"pageCommentTitle",rules:{required:!0,message:"页面注释标题不能为空",trigger:"blur"}}},[a("el-input",{staticClass:"w70",attrs:{type:"text",placeholder:"请输入页面注释标题"},model:{value:e.tGaConfigReportPeriodComment.pageCommentTitle,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"pageCommentTitle",t)},expression:"tGaConfigReportPeriodComment.pageCommentTitle"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[a("el-form-item",{attrs:{label:"填报周期:",prop:"reportPeriod",rules:{required:!0,message:"填报周期不能为空",trigger:"blur"}}},[a("el-select",{staticClass:"w70",model:{value:e.tGaConfigReportPeriodComment.reportPeriod,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"reportPeriod",t)},expression:"tGaConfigReportPeriodComment.reportPeriod"}},e._l(e.reportPeriodList,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8}},[a("el-form-item",{attrs:{label:"页面生成日期:",prop:"crtReportDate",rules:{required:!0,message:"页面生成日期不能为空",trigger:"blur"}}},[a("el-input-number",{staticClass:"w70",attrs:{min:1,max:31,placeholder:"请输出日期1~31号"},model:{value:e.tGaConfigReportPeriodComment.crtReportDate,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"crtReportDate",t)},expression:"tGaConfigReportPeriodComment.crtReportDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[a("el-form-item",{attrs:{label:"页面注释内容:",prop:"pageCommentContent"}},[a("el-input",{attrs:{autosize:{minRows:12,maxRows:16},type:"textarea","show-word-limit":""},model:{value:e.tGaConfigReportPeriodComment.pageCommentContent,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"pageCommentContent",t)},expression:"tGaConfigReportPeriodComment.pageCommentContent"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"50px"}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"创建时间:",prop:"crtDate"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaConfigReportPeriodComment.crtDate,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"crtDate",t)},expression:"tGaConfigReportPeriodComment.crtDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"创建人:",prop:"crtPerson"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaConfigReportPeriodComment.crtPerson,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"crtPerson",t)},expression:"tGaConfigReportPeriodComment.crtPerson"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"维护时间:",prop:"mntDate"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaConfigReportPeriodComment.mntDate,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"mntDate",t)},expression:"tGaConfigReportPeriodComment.mntDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6}},[a("el-form-item",{attrs:{"label-width":"90px",label:"维护人:",prop:"mntPerson"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.tGaConfigReportPeriodComment.mntPerson,callback:function(t){e.$set(e.tGaConfigReportPeriodComment,"mntPerson",t)},expression:"tGaConfigReportPeriodComment.mntPerson"}})],1)],1)],1)],1)],1)])])],1)])])])},s=[],i=a("cebc"),r=a("e814"),o=a.n(r),l=(a("ac6a"),a("96cf"),a("3b8d")),c=a("c113"),u={name:"EPRepFormConfig",components:{},mixins:[c["a"]],data:function(){return{tGaCompanyNameValidate:{},tGaConfigReportPeriodCommentValidate:{},tabPosition:"left",tabConfValue:"company",headerTitle:"绿化工作报表企业类别企业名称配置",isPage:!0,height:500,isAdd:!0,isEdit:!1,isCZ:!0,isCZName:"SelfBtn",btnList:[{name:"编辑"}],userName:"",permissionparametersTableData:[],colModel:[{prop:"companyCategory",label:"企业类别：",placeholder:"请选择企业类别",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"油气田板块"},{key:2,value:"炼化板块"},{key:3,value:"销售板块"},{key:4,value:"其他板块"}]}},{prop:"companyName",label:"企业：",placeholder:"请选择企业",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"epCompanyName",value:"id"},url:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST}},{prop:"enable",label:"状态：",placeholder:"请选择状态",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"已启用"},{key:2,value:"未启用"}]}}],colModel1:[{prop:"epCompanyCategory",label:"企业类别：",placeholder:"请选择企业类别",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"油气田板块"},{key:2,value:"炼化板块"},{key:3,value:"销售板块"},{key:4,value:"其他板块"}]}},{prop:"epCompanyCode",label:"企业：",placeholder:"请选择企业",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"epCompanyName",value:"id"},url:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST}},{prop:"enable",label:"状态：",placeholder:"请选择状态",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"已启用"},{key:2,value:"未启用"}]}}],colModel2:[{prop:"reportName",label:"报表页面名称:",placeholder:"请选择报表页面名称",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"企业基本情况"},{key:2,value:"义务植树情况表"},{key:3,value:"绿化分区情况"},{key:4,value:"古树名木调查表"},{key:5,value:"绿化资金情况"},{key:6,value:"绿化工作通讯录"}]}},{prop:"enable",label:"状态：",placeholder:"请选择状态",isAll:!0,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:[{key:1,value:"已启用"},{key:2,value:"未启用"}]}}],dialogVisible:!1,permissionparametersTablecolumn:[{title:"绿化工作报表企业类别",align:"center",value:"companyCategoryShow"},{title:"绿化工作报表企业",align:"center",value:"companyName"},{title:"企业类别",align:"center",value:"epCompanyCategoryShow"},{title:"企业",align:"center",value:"epCompanyName"},{title:"本企业类别企业排序",align:"center",value:"sort"},{title:"状态",align:"center",value:"enable"},{title:"创建时间",align:"center",value:"crtDate"},{title:"创建人",align:"center",value:"crtPerson"},{title:"维护时间",align:"center",value:"mntDate"},{title:"维护人",align:"center",value:"mntPerson"}],tablecolumn1:[{title:"绿化工作报表企业类别",align:"center",value:"companyCategoryShow"},{title:"绿化工作报表企业",align:"center",value:"companyName"},{title:"企业类别",align:"center",value:"epCompanyCategoryShow"},{title:"企业",align:"center",value:"epCompanyName"},{title:"本企业类别企业排序",align:"center",value:"sort"},{title:"状态",align:"center",value:"enable"},{title:"创建时间",align:"center",value:"crtDate"},{title:"创建人",align:"center",value:"crtPerson"},{title:"维护时间",align:"center",value:"mntDate"},{title:"维护人",align:"center",value:"mntPerson"}],tablecolumn2:[{title:"报表页面名称",align:"center",value:"reportName"},{title:"报表页面周期",align:"center",value:"reportPeriod"},{title:"报表页面生成日期",align:"center",value:"crtReportDate"},{title:"报表页面注释标题",align:"center",value:"pageCommentTitle"},{title:"报表页面注释内容",align:"center",value:"pageCommentContent"},{title:"状态",align:"center",value:"enable"},{title:"创建时间",align:"center",value:"crtDate"},{title:"创建人",align:"center",value:"crtPerson"},{title:"维护时间",align:"center",value:"mntDate"},{title:"维护人",align:"center",value:"mntPerson"}],loading:!0,isSelect:!0,url:{list:this.$API.GA_GET_SELECTTGACOMPANYNAME_LIST},enterpriseCategory:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST,enterpriseList:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST,tGaCompanyName:{},tGaConfigReportPeriodComment:{enable:1},reportPeriodList:[{value:1,label:"每月"},{value:2,label:"每两月"},{value:3,label:"每季度"},{value:4,label:"每半年"},{value:5,label:"每年"}],reportNameList:[{value:1,label:"企业基本情况"},{value:2,label:"义务植树情况表"},{value:3,label:"绿化分区情况"},{value:4,label:"古树名木调查表"},{value:5,label:"绿化资金情况"},{value:6,label:"绿化工作通讯录"}],epCompanyList:[{code:1,sname:"胜利油田"},{code:2,sname:"天津石油"},{code:3,sname:"化工销售公司"},{code:4,sname:"新气管道公司"},{code:5,sname:"河南石油"},{code:6,sname:"润滑油分公司"},{code:7,sname:"炼油销售公司"}],selectionList:[],epCompanyCategoryList:[{value:1,label:"油气田板块"},{value:2,label:"炼化板块"},{value:3,label:"销售板块"},{value:4,label:"其他板块"}]}},computed:{},watch:{},created:function(){},beforeMount:function(){var e=this,t=new FormData;this.$http.get(this.$API.GA_POST_OU+"?isAll=true",t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.epCompanyList=a.data,null!==a.data&&(e.colModel[1].opts.data=e.epCompanyList,e.colModel1[1].opts.data=e.epCompanyList);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.$http.post(this.$API.GA_POST_SELECTUSERNAME,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.userName=a.data;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.$http.post(this.$API.GA_GET_SELECTUSEROUCODE,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},mounted:function(){this.init(this.colModel),this.clickNavItem("company")},methods:{getUserName:function(){return this.userName},getNewTime:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":",i=e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":",r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),o=t+"-"+a+"-"+n+" "+s+i+r;return o},handleSizeChange:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.pageSize=t,e.next=3,this.upListData(this.url.list);case 3:a=e.sent,this.upListDataFun(a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.next=3,this.upListData(this.url.list);case 3:a=e.sent,this.upListDataFun(a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),clickNavItem:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("company"!==t){e.next=12;break}return this.headerTitle="绿化工作报表企业类别企业名称配置",this.tabConfValue="company",this.permissionparametersTablecolumn=this.tablecolumn1,this.colModel=this.colModel1,this.url.list=this.$API.GA_GET_SELECTTGACOMPANYNAME_LIST,e.next=8,this.upListData(this.url.list);case 8:a=e.sent,this.upListDataFun(a),e.next=21;break;case 12:return this.headerTitle="填报周期与注释说明配置",this.tabConfValue="cycle",this.permissionparametersTablecolumn=this.tablecolumn2,this.colModel=this.colModel2,this.url.list=this.$API.GA_GET_SELECTTGACONFIGREPORTPERIODCOMMENT_LIST,e.next=19,this.upListData(this.url.list);case 19:n=e.sent,this.upListDataFun(n);case 21:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),removeTableData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.selectionList.length){e.next=3;break}return this.$message({type:"error",message:"请选择要删除的数据！"}),e.abrupt("return");case 3:t=[],this.selectionList.forEach(function(e){t.push(e.companyNameId)}),t.length>0?this.$confirm("确认删除吗？").then(function(e){a.$http.post(a.$API.GA_DELETE_CONFIGNAME,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a.$message({type:"success",message:"删除成功"}),a.clickNavItem("company");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}).catch(function(e){}):this.$confirm("确认删除吗？").then(function(e){a.loading=!0,a.removeTableDataFun({message:"删除成功！"})}).catch(function(e){});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){this.selectionList=e},upListDataFun:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loading=!1,"company"===this.tabConfValue&&t.data.content.forEach(function(e){1===e.enable?e.enable="已启用":2===e.enable&&(e.enable="未启用"),a.epCompanyCategoryList.forEach(function(t){e.epCompanyCategory===t.code&&(e.epCompanyCategory=t.sName)})}),this.permissionparametersTableData=t.data.content||[],this.permissionparametersTableData.forEach(function(e){1===e.epCompanyCategory||"1"===e.epCompanyCategory?e.epCompanyCategoryShow="油气田板块":2===e.epCompanyCategory||"2"===e.epCompanyCategory?e.epCompanyCategoryShow="炼化板块":3===e.epCompanyCategory||"3"===e.epCompanyCategory?e.epCompanyCategoryShow="销售板块":4!==e.epCompanyCategory&&"4"!==e.epCompanyCategory||(e.epCompanyCategoryShow="其他板块"),1===e.companyCategory||"1"===e.companyCategory?e.companyCategoryShow="油田企业":2===e.companyCategory||"2"===e.companyCategory?e.companyCategoryShow="炼化企业":3===e.companyCategory||"3"===e.companyCategory?e.companyCategoryShow="销售企业":4!==e.companyCategory&&"4"!==e.companyCategory||(e.companyCategoryShow="其他")}),this.total=o()(t.data.totalElements);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addTableOneTr:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.isAdd=!0,this.isEdit=!1,this.dialogVisible=!0,this.tGaCompanyName={enable:2},this.tGaConfigReportPeriodComment={enable:2};case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.dialogVisible=!1;case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),changeEpCompany:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.epCompanyList.forEach(function(e){e.code===t&&(a.tGaCompanyName.epCompanyName=e.sname)});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editGaCompanyName:function(e){var t=this;this.$http.post(this.$API.GA_POST_GETTGACOMPANYNAME,e,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.$message({type:"success",message:a.message}),t.tGaCompanyName=a.data,t.dialogVisible=!0,t.isAdd=!1,t.isEdit=!0;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},dialogVisibleBC:function(){var e=this;try{this.$refs["tGaCompanyName"].validate(function(t){if(t){var a=e.getUserName(),n=e.getNewTime();void 0!==e.tGaCompanyName.companyNameId&&null!==e.tGaCompanyName.companyNameId?(e.tGaCompanyName.mntDate=n,e.tGaCompanyName.mntPerson=a):(e.tGaCompanyName.crtDate=n,e.tGaCompanyName.crtPerson=a);var s=e.$API.GA_POST_ADDTGACOMPANYNAME;e.isEdit&&(s=e.$API.GA_UPDATE_TGACOMPANYNAME),e.$http.post(s,e.tGaCompanyName,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return 200===a.code?e.$message({type:"success",message:"保存成功!"}):203===a.code&&e.$message({type:"success",message:"保存失败!该企业已存在!"}),e.dialogVisible=!1,t.next=4,e.upListData(e.url.list);case 4:n=t.sent,e.upListDataFun(n);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}catch(t){}},onBtnClick:function(e,t){"company"===this.tabConfValue?this.tGaCompanyName=e.row:this.tGaConfigReportPeriodComment=e.row,this.isAdd=!1,this.isEdit=!0,this.dialogVisible=!0},editTGaConfigReportPeriodComment:function(e){var t=this;this.$http.post(this.$API.GA_POST_GETTGACONFIGREPORTPERIODCOMMENT,e,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.$message({type:"success",message:a.message}),t.tGaConfigReportPeriodComment=a.data,t.dialogVisible=!0,t.isAdd=!1,t.isEdit=!0;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},dialogVisibleBC2:function(){var e=this;try{this.$refs["tGaConfigReportPeriodComment"].validate(function(t){if(t){var a=e.getUserName(),n=e.getNewTime(),s=e.$API.GA_POST_ADDTGACONFIGREPORTPERIODCOMMENT;e.isEdit?(s=e.$API.GA_UPDATE_TGACONFIGREPORTPERIODCOMMENT,e.tGaConfigReportPeriodComment.mntDate=n,e.tGaConfigReportPeriodComment.mntPerson=a):(e.tGaConfigReportPeriodComment.crtDate=n,e.tGaConfigReportPeriodComment.crtPerson=a),e.$http.post(s,e.tGaConfigReportPeriodComment,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.$message({type:"success",message:a.message}),e.dialogVisible=!1,t.next=5,e.upListData(e.url.list);case 5:n=t.sent,e.upListDataFun(n);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}catch(t){}}}},p=Object(i["a"])({},u),m=p,d=(a("1265"),a("7378"),a("2877")),h=Object(d["a"])(m,n,s,!1,null,"3a946c16",null);t["default"]=h.exports},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"46b4":function(e,t,a){},"49dd":function(e,t,a){},"4b2f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v(e._s(e.headerTitle))])]),a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"headBox"},[a("el-button",{staticClass:"addBtn btn-xinzeng",attrs:{type:"primary",icon:"iconfont icon-xinzeng"}},[e._v("新增")]),a("el-button",{staticClass:"delBtn btn-shanchu",attrs:{type:"danger",icon:"iconfont icon-shanchu"}},[e._v("删除")])],1),a("div",{staticClass:"searchBox"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"企业类别"}},[a("el-select",{attrs:{placeholder:"请选择销售单位",size:"small",clearable:""},on:{change:e.companyChange},model:{value:e.queryParams.a,callback:function(t){e.$set(e.queryParams,"a","string"===typeof t?t.trim():t)},expression:"queryParams.a"}},e._l(e.comOption,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})}),1)],1),a("el-form-item",{attrs:{label:"企业"}},[a("el-select",{attrs:{placeholder:"请选择销售单位",size:"small",clearable:""},on:{change:e.companyChange},model:{value:e.queryParams.b,callback:function(t){e.$set(e.queryParams,"b","string"===typeof t?t.trim():t)},expression:"queryParams.b"}},e._l(e.comOption,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})}),1)],1),a("el-form-item",{attrs:{label:"功能模块"}},[a("el-select",{attrs:{placeholder:"请选择销售单位",size:"small",clearable:""},on:{change:e.companyChange},model:{value:e.queryParams.c,callback:function(t){e.$set(e.queryParams,"c","string"===typeof t?t.trim():t)},expression:"queryParams.c"}},e._l(e.comOption,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})}),1)],1),a("el-form-item",[a("el-button",{staticClass:"delBtn btn-chaxun",attrs:{type:"primary",icon:"iconfont icon-chaxun"}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"contentBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"date",label:"操作"}}),a("el-table-column",{attrs:{prop:"name",label:"企业"}}),a("el-table-column",{attrs:{prop:"address",label:"工作状态"}}),a("el-table-column",{attrs:{prop:"address",label:"邮件通知人"}}),a("el-table-column",{attrs:{prop:"address",label:"短信提通知人"}}),a("el-table-column",{attrs:{prop:"address",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"address",label:"创建人"}}),a("el-table-column",{attrs:{prop:"address",label:"维护时间"}}),a("el-table-column",{attrs:{prop:"address",label:"维护人"}})],1)],1)])])])])},s=[],i=a("cebc"),r=a("c113"),o={name:"WorkRepNoticeConfig",components:{},mixins:[r["a"]],data:function(){return{headerTitle:"工作通知设置",queryParams:{a:null,b:null,c:null},tableData:[],comOption:[]}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{companyChange:function(){}}},l=Object(i["a"])({},o),c=l,u=(a("2298"),a("2877")),p=Object(u["a"])(c,n,s,!1,null,"488a0802",null);t["default"]=p.exports},"4dcf":function(e,t,a){},5498:function(e,t,a){},6876:function(e,t,a){"use strict";var n=a("49dd"),s=a.n(n);s.a},"6b54":function(e,t,a){"use strict";a("3846");var n=a("cb7c"),s=a("0bfb"),i=a("9e1e"),r="toString",o=/./[r],l=function(e){a("2aba")(RegExp.prototype,r,e,!0)};a("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?l(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?s.call(e):void 0)}):o.name!=r&&l(function(){return o.call(this)})},7378:function(e,t,a){"use strict";var n=a("2392"),s=a.n(n);s.a},"81a5":function(e,t,a){},"8ac4":function(e,t,a){},a019:function(e,t,a){"use strict";var n=a("dce1"),s=a.n(n);s.a},aa88:function(e,t,a){},ad58:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v(e._s(e.headerTitle))])]),a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"headBox"},[a("el-button",{staticClass:"addBtn btn-bohui",attrs:{type:"primary",icon:"iconfont icon-bohui"},on:{click:e.refuse}},[e._v("驳回")]),a("el-button",{staticClass:"addBtn btn-daochu",attrs:{type:"primary",icon:"iconfont icon-daochu"},on:{click:e.excelExport}},[e._v("导出")])],1),a("div",{staticClass:"searchBox"},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"75px"}},[a("el-row",[a("el-form-item",{attrs:{label:"板块"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.a,callback:function(t){e.$set(e.queryParams,"a","string"===typeof t?t.trim():t)},expression:"queryParams.a"}},e._l(e.comOption,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})}),1)],1),a("el-form-item",{attrs:{label:"企业"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.companySendName,callback:function(t){e.$set(e.queryParams,"companySendName","string"===typeof t?t.trim():t)},expression:"queryParams.companySendName"}},e._l(e.companyOption,function(e){return a("el-option",{key:e.code,attrs:{label:e.sname,value:e.code}})}),1)],1),a("el-form-item",{attrs:{label:"开始月份"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.datePick},model:{value:e.dateArr,callback:function(t){e.dateArr=t},expression:"dateArr"}})],1)],1),a("el-form-item",{attrs:{label:"报表名称"}},[a("el-select",{attrs:{size:"small",clearable:""},on:{change:e.reportChange},model:{value:e.queryParams.reportId,callback:function(t){e.$set(e.queryParams,"reportId","string"===typeof t?t.trim():t)},expression:"queryParams.reportId"}},e._l(e.selectOption,function(e){return a("el-option",{key:e.id,attrs:{label:e.reportName,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"报表状态"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status","string"===typeof t?t.trim():t)},expression:"queryParams.status"}},e._l(e.statusOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-button",{staticClass:"delBtn btn-chaxun",attrs:{type:"primary",icon:"iconfont icon-chaxun"}},[e._v("查询")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"contentBox"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabData,function(e){return a("el-tab-pane",{key:e.id,attrs:{label:e.reportName,name:e.id.toString()}})}),1),a("MyTable",{key:e.mytableKey,staticStyle:{width:"100%"},attrs:{col:e.currentTabDataTitle,data:e.currentTabDataInfo,forceChange:e.mytableKey}})],1)])])])])},s=[],i=a("cebc"),r=a("795b"),o=a.n(r),l=a("f499"),c=a.n(l),u=(a("c5f6"),a("5176")),p=a.n(u),m=a("75fc"),d=(a("96cf"),a("3b8d")),h=(a("6b54"),a("c113")),f=a("c1df"),b=a.n(f),g=a("ece8"),y={name:"WorkRepFormLookUp",components:{MyTable:g["a"]},mixins:[h["a"]],data:function(){return{headerTitle:"工作报表查阅审核",queryParams:{companySendName:null,endReportTime:null,startReportTime:null,pageNumber:1,pageSize:20,reportId:null,status:null},mytableKey:"123",tableLoading:!1,refuseShow:!1,refuseData:{ids:null,reason:""},tableData:[],total:0,comOption:[],dateArr:[],selectOption:[],tabData:[],currentTabDataTitle:[],fixedTitle:[{label:"填报单位",fix:!0,id:"companySendName"},{label:"报表月份",fix:!0,id:"reportTime"},{label:"报表名称",fix:!0,id:"reportName"},{label:"报表状态",fix:!0,id:"status"}],fixedData:{companySendName:"",reportTime:"2021-07",reportName:"T1",status:1},currentTabDataInfo:[{}],activeTab:null,salesUnitOption:[{value:"",label:"全部"},{value:"油气田板块",label:"油气田板块"},{value:"炼化板块",label:"炼化板块"},{value:"销售板块",label:"销售板块"},{value:"其他板块",label:"其他板块"}],companyOption:[{code:"",sname:"全部"},{code:"胜利油田",sname:"胜利油田"},{code:"天津石油",sname:"天津石油"},{code:"化工销售公司",sname:"化工销售公司"},{code:"新气管道公司",sname:"新气管道公司"},{code:"河南石油",sname:"河南石油"},{code:"润滑油分公司",sname:"润滑油分公司"},{code:"炼油销售公司",sname:"炼油销售公司"}],statusOption:[{label:"全部",value:""},{label:"已下发",value:"1"},{label:"未下发",value:"0"}]}},computed:{},watch:{},created:function(){},mounted:function(){this.$store.commit("setTableTypeFalse"),this.getOption()},methods:{reportChange:function(){for(var e in this.selectOption)if(this.selectOption[e].id===this.queryParams.reportId)return void(this.selectOption[e].children.length>0&&(this.tabData=this.selectOption[e].children,this.activeTab=this.tabData[0].id.toString(),this.tabTableGet(this.activeTab)))},tabTableGet:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var a,n,s,i,r,o,l,c,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,e.next=3,this.tabTitle(t);case 3:return a=e.sent,n=this.dataDeal(a),this.$store.commit("setTableTypeFalse"),e.next=8,this.tabContent();case 8:for(s=e.sent,this.currentTabDataTitle=[].concat(Object(m["a"])(this.fixedTitle),Object(m["a"])(n)),this.currentTabDataInfo=[],i=0;i<s.length;i++)if(r=s[i],r.reportData){for(c in o=JSON.parse(r.reportData),l=p()({},this.fixedData,o),l)this.$set(l,c,l[c]);this.currentTabDataInfo.push(l)}else{for(this.currentTabDataTitle=[].concat(Object(m["a"])(this.fixedTitle),Object(m["a"])(n)),u=p()({},this.fixedData),d=0;d<a.length;d++)this.$set(u,a[d].id,"");u.id=r.id,this.currentTabDataInfo.push(u)}this.mytableKey=(new Date).getTime(),this.tableLoading=!1;case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleClick:function(){this.currentTabDataInfo=[],this.currentTabDataTitle=[],this.tabTableGet(this.activeTab)},excelExport:function(){if(this.activeTab&&0!==this.activeTab){var e=Number(this.activeTab),t="".concat(this.$API.GA_POST_TABLEEXCEL,"?reportId=").concat(e);this.$http.exportExcel(t,null).then(function(e){}).catch(function(){})}else this.$message({type:"warning",message:"请先选择表！"})},refuse:function(){var e=this.$store.state.rowInfo;if(e&&0!==e.length){for(var t=[],a=0;a<e.length;a++){if(1===e[a].status)return void this.$message({type:"warning",message:"存在未提交报表！"});t.push(e[a].id)}this.refuseData={ids:null,reason:""},this.refuseData.ids=t,this.refuseShow=!0}else this.$message({type:"warning",message:"请先选择数据！"})},refuseConfirm:function(){var e=this;if(this.refuseData.reason){var t=c()(this.refuseData);this.$http.putPro(this.$API.GA_POST_TABLEREFUSE,t).then(function(t){t.success&&e.$message({type:"success",message:"驳回成功！"})}).catch(function(){e.$message({type:"error",message:"驳回失败！"})}).finally(function(){e.refuseShow=!1})}else this.$message({type:"warning",message:"请输入驳回意见"})},getOption:function(){var e=this;this.$http.get(this.$API.GA_POST_TABLESUBMITSELECT).then(function(t){t.success&&(e.selectOption=t.data)}).catch(function(){e.$message({type:"error",message:"查询失败！"})})},nameGet:function(e){for(var t=0;t<this.selectOption.length;t++)if(this.selectOption[t].id===e)return this.selectOption[t].reportName},tabTitle:function(e){var t=this;return new o.a(function(a,n){t.$http.get(t.$API.GA_POST_TABLETITLEPREVIEW,{reportId:Number(e)}).then(function(e){e.success?a(e.data):a([])}).catch()})},tabContent:function(){var e=this;return new o.a(function(t,a){var n=p()({},e.queryParams);n.reportId=e.activeTab,n.pageNumber=n.pageNumber-1,e.$http.get(e.$API.GA_POST_TABLESUBMIT,n).then(function(e){e.success?t(e.data.content):t({})}).catch(function(){e.$message({type:"error",message:"查询失败！"})})})},datePick:function(){this.queryParams.startReportTime=b()(this.dateArr[0]).format("YYYY-MM-DD"),this.queryParams.endReportTime=b()(this.dateArr[1]).format("YYYY-MM-DD")},dataDeal:function(e){for(var t=this.lineToTree(e,"titleLvl1"),a=0;a<t.length;a++){t[a].children=this.lineToTree(t[a].children,"titleLvl2");for(var n=0;n<t[a].children.length;n++){t[a].children[n].children=this.lineToTree(t[a].children[n].children,"titleLvl3");for(var s=0;s<t[a].children[n].children.length;s++)for(var i=0;i<t[a].children[n].children[s].children.length;i++)t[a].children[n].children[s].children[i].label=t[a].children[n].children[s].children[i].titleLvl4}}return t},lineToTree:function(e,t){for(var a=[],n=[],s=0;s<e.length;s++){var i=this.ifExist(a,e[s][t]);if(i.bool){var r=p()({},e[s]);r.children=[],n[i.index].children.push(r)}else{if(!e[s][t])continue;a.push(e[s][t]);var o={label:e[s][t],id:e[s].id,children:[]};o.children.push(e[s]),n.push(o)}}return n},ifExist:function(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return{bool:!0,index:a};return{bool:!1,index:null}}}},v=Object(i["a"])({},y),C=v,T=(a("1e61"),a("2877")),S=Object(T["a"])(C,n,s,!1,null,"2766bace",null);t["default"]=S.exports},bfbf:function(e,t,a){"use strict";var n=a("3040"),s=a.n(n);s.a},c113:function(e,t,a){"use strict";a("4917"),a("ac6a");var n=a("f499"),s=a.n(n),i=a("a745"),r=a.n(i),o=a("5176"),l=a.n(o),c=a("795b"),u=a.n(c),p=(a("96cf"),a("3b8d")),m=a("c1df"),d=a.n(m),h=a("1157"),f=a.n(h);t["a"]={data:function(){return{loading:!0,permissionparametersTableData:[],total:1,pageSizes:[10,20,30,50],pageSize:10,currentPage:1,dialogVisibleList:[],companyNameList:[],applyStatusList:[],regConfirmStatusesList:[],stateList:[],deptIdList:[],wasteMtrlCatgrIdsList:[],abnmlDiscPhaseList:[],governEquipTypeList:[],governEquipList:[],stopTypeList:[],pipeLineTypeList:[],options:[],optionProps:{checkStrictly:!0,value:"id",label:"text",children:"children"},optionsVal:"",listData:[],testArr1:[],testArr2:[],testPosition1:0,testPosition2:0,moduleList:[],isCompanyIcon:!1,isstateIcon:!1,ismoduleIcon:!1,isDeptIdIcon:!1,isChangeUpListData:!0}},mounted:function(){},methods:{upListData:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.abrupt("return",new u.a(function(e,n){if(a.$refs["$baseGenerateSearch"]){var s;s=a.isPage?{pageSize:a.pageSize,pageNumber:a.currentPage-1}:{};var i=l()(s,a.$refs["$baseGenerateSearch"]["searchForm"]);i.statuses&&i.statuses.length&&r()(i.statuses)&&(i.statuses=i.statuses.join(",")),i.startSendTime&&(i.startSendTime=d()(i.startSendTime).format("YYYY-MM-DD hh:mm:ss")),i.endSendTime&&(i.endSendTime=d()(i.endSendTime).format("YYYY-MM-DD hh:mm:ss")),i.startSubmitTime&&(i.startSubmitTime=d()(i.startSubmitTime).format("YYYY-MM-DD")),i.endSubmitTime&&(i.endSubmitTime=d()(i.endSubmitTime).format("YYYY-MM-DD")),i.applyStatus&&i.applyStatus.length&&r()(i.applyStatus)&&(i.applyStatus=i.applyStatus.join(",")),i.time&&(i.time.length&&r()(i.time)&&(i.planStartTime=d()(i.time[0]).format("YYYY-MM-DD hh:mm"),i.planEndTime=d()(i.time[1]).format("YYYY-MM-DD hh:mm")),delete i.time),i.tTime&&(i.tTime.length&&r()(i.tTime)&&(i.startTime=d()(i.tTime[0]).format("YYYY-MM-DD hh:mm"),i.endTime=d()(i.tTime[1]).format("YYYY-MM-DD hh:mm")),delete i.tTime),i.wasteMtrlCatgrIds&&i.wasteMtrlCatgrIds.length&&r()(i.wasteMtrlCatgrIds)&&(i.wasteMtrlCatgrIds=i.wasteMtrlCatgrIds.join(",")),i.deptId&&i.deptId.length&&r()(i.deptId)&&(i.deptId=i.deptId[i.deptId.length-1]),i.sTime&&(i.sTime.length&&r()(i.sTime)&&(i.factStartTime=d()(i.sTime[0]).format("YYYY-MM-DD hh:mm"),i.factEndTime=d()(i.sTime[1]).format("YYYY-MM-DD hh:mm")),delete i.sTime),i.abnmlDiscPhase&&i.abnmlDiscPhase.length&&r()(i.abnmlDiscPhase)&&(i.abnmlDiscPhase=i.abnmlDiscPhase.join(",")),i.assessStatuses&&i.assessStatuses.length&&r()(i.assessStatuses)&&(i.assessStatuses=i.assessStatuses.join(",")),i.regConfirmStatuses&&i.regConfirmStatuses.length&&r()(i.regConfirmStatuses)&&(i.regConfirmStatuses=i.regConfirmStatuses.join(",")),i.governEquipTypeId&&i.governEquipTypeId.length&&r()(i.governEquipTypeId)&&(i.governEquipTypeId=i.governEquipTypeId.join(",")),i.stopType&&i.stopType.length&&r()(i.stopType)&&(i.stopType=i.stopType.join(",")),i.startYear&&i.startMonth&&(-1===i.startMonth||"-1"===i.startMonth?i.startDate=i.startYear+"-01":i.startDate=i.startYear+"-"+i.startMonth),i.endYear&&i.endMonth&&(-1===i.endMonth||"-1"===i.endMonth?i.endDate=i.endYear+"-12":i.endDate=i.endYear+"-"+i.endMonth);var o=a.$http.get(t,i);o.then(function(e){a.loading=!1}),e(o)}else{var c=a.$http.get(t);c.then(function(e){a.loading=!1}),e(c)}}));case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getPipeLineTypeList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_PIPELINETYPEPIPELINETYPELIST+"?isAll=true").then(function(a){t(a),e.pipeLineTypeList=JSON.parse(s()(a.data))})})},getCompanyNameList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_COMPANYNAME_LIST+"?type=1&isAll=true").then(function(a){t(a),e.companyNameList=JSON.parse(s()(a.data)),e.companyNameList.splice(0,1)})})},getMoudleList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_COMPANYMOUDLECONFMODEL_LIST).then(function(a){t(a),e.moduleList=JSON.parse(s()(a.data)),e.form.moudelId=e.moduleList[0].key,e.$set(e.form,"moudelId2",e.moduleList[0].key)})})},getStateList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_SELECTSCHDEULETASKSTATUS).then(function(a){t(a),e.stateList=JSON.parse(s()(a.data))})})},getChildOuList:function(e){var t=this;return new u.a(function(a,n){t.$http.get(t.$API.BC_GET_CHILDOU_LIST+"?type=1&parentId="+e).then(function(e){a(e),t.deptIdList=JSON.parse(s()(e.data))})})},getOuList:function(e){var t=this;return new u.a(function(a,n){t.$http.get(t.$API.BC_GET_OU_LIST+"?type=1&parentId="+e).then(function(e){a(e),t.options=JSON.parse(s()(e.data))})})},getWastemtrlcatgrList:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new u.a(function(e,a){t.$http.get(t.$API.BC_GET_WASTEMTRLCATGR_LIST+"?type=1&isAll=true").then(function(){var a=Object(p["a"])(regeneratorRuntime.mark(function a(n){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e(n),t.wasteMtrlCatgrIdsList=JSON.parse(s()(n.data));case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getAbnmlDiscPhaseList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.ADM_GET_ABNMLDISCPHASE+"?companyId="+e.form.companyId).then(function(a){t(a),e.abnmlDiscPhaseList=JSON.parse(s()(a.data))})})},getSelectStatusList:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_SELECTSCHDSTATUS+"?isAll=false").then(function(a){t(a),e.selectStatusList=JSON.parse(s()(a.data))})})},getApprovalStatus:function(){var e=this;return new u.a(function(t,a){e.$http.get(e.$API.BC_GET_APPROVALSTATUSR).then(function(a){t(a),e.applyStatusList=JSON.parse(s()(a.data))})})},rowspan:function(e,t,a){var n=this;this.permissionparametersTableData.forEach(function(s,i){0===i?(e.push(1),t=0):n.permissionparametersTableData[i][a]===n.permissionparametersTableData[i-1][a]?(e[t]+=1,e.push(0)):(e.push(1),t=i)})},onSearch:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.upListData(this.url.list);case 2:t=e.sent,this.upListDataFun(t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),init:function(e){var t=this;this.promiseForEach(e,function(e){return new u.a(function(t,a){t(e)})}).then(function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isChangeUpListData){e.next=6;break}return e.next=3,t.upListData(t.url.list);case 3:n=e.sent,t.upListDataFun(n),t.isChangeUpListData=!1;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},promiseForEach:function(e,t){var a=this,n=[],s=u.a.resolve();return e.forEach(function(e,i){s=s.then(function(){return t(e).then(function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(s){var i,r,o,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.opts,!i){t.next=13;break}if(r=[],r.push(e),!i.url){t.next=12;break}return t.next=7,a.$http.get(i.url);case 7:if(o=t.sent,n.push(o),o){for(l=0;l<o.data.length;l++)"全部"===o.data[l]["sname"]&&o.data.splice(l,1);a.$set(i,"data",o.data),a.$set(i,"dictionaryData",o.data),a.$refs["$baseGenerateSearch"].init(r),i.func&&(i.isColModel&&i.func(o,a),i.isColModel=!1)}t.next=13;break;case 12:a.$refs["$baseGenerateSearch"].init(r);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})}),s.then(function(){return n})},replaceMatchProps:function(e,t){if(!e.dictionary)return t;if(e.match&&r()(t)){var a=t.map(function(t){var a={};return a[e.match.label]=t[e.dictionary?e.dictionary.label:"dictionaryName"],a[e.match.value]=t[e.dictionary?e.dictionary.value:"dictionaryCode"],a});return a}return t},getPageBtns:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={pageCode:this.$route.query.pageCode},e.next=3,this.$http.get(this.$API.BC_GET_COMMON_PAGEBTNS,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getSysParam:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$API.BC_GET_COMPANYPARA+"?code="+t+"&companyId="+a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),handleSizeChange:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.pageSize=t,e.next=3,this.upListData(this.url.list);case 3:a=e.sent,this.upListDataFun(a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.next=3,this.upListData(this.url.list);case 3:a=e.sent,this.upListDataFun(a);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){this.dialogVisibleList=e},permissionparametersTablecolumnInit:function(e){var t=this,a=this;e.forEach(function(e){e.url&&t.$http.get(e.url).then(function(t){e.initFunc&&e.initFunc(t,a)})})},onExport:function(){for(var e=[],t={},a=this.$refs["$baseGenerateSearch"]&&this.$refs["$baseGenerateSearch"]["searchForm"]?this.$refs["$baseGenerateSearch"]["searchForm"]:null,n=0;n<this.permissionparametersTablecolumn.length;n++)e.push({key:this.permissionparametersTablecolumn[n].value,value:this.permissionparametersTablecolumn[n].title});if(t.gridColumn=s()(e),t.pageNumber=this.currentPage,t.pageSize=this.pageSize,a)for(var i in a)"wasteMtrlCatgrIds"===i?t[i]=a[i].join(","):"deptId"===i?t[i]=a[i].length?a[i][a[i].length-1]:"":"time"===i?(t.planStartTime=a[i].length?d()(a[i][0]).format("YYYY-MM-DD hh:mm"):"",t.planEndTime=a[i].length?d()(a[i][1]).format("YYYY-MM-DD hh:mm"):""):"sTime"===i?(t.factStartTime=a[i].length?d()(a[i][0]).format("YYYY-MM-DD hh:mm"):"",t.factEndTime=a[i].length?d()(a[i][1]).format("YYYY-MM-DD hh:mm"):""):t[i]="applyStatus"===i?a[i].join(","):"abnmlDiscPhase"===i?a[i].join(","):"assessStatuses"===i?a[i].join(","):"regConfirmStatuses"===i?a[i].join(","):a[i];var r=f()('<form id="exp" style="visibility:hidden;" method="POST" action="'.concat(this.url.export,'"></form>'));for(var o in t)f()(r).append('<input type="hidden" name=\''.concat(o,"' value='").concat(t[o],"' />"));f()("body").append(f()('<div id="export"></div>')),f()("#export").html(r),f()("#exp").submit()}}}},c9d8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v(e._s(e.headerTitle))])]),a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix",staticStyle:{height:"630px"}},[a("div",{staticClass:"headBox"},[a("el-button",{staticClass:"btn-baocun",attrs:{type:"warning",icon:"iconfont icon-baocun"},on:{click:e.storeTab}},[e._v("保存")]),a("el-button",{staticClass:"addBtn btn-tijiao",attrs:{type:"primary",icon:"iconfont icon-tijiao"},on:{click:e.submitLines}},[e._v("提交")]),a("el-button",{staticClass:"addBtn btn-daochu",attrs:{type:"primary",icon:"iconfont icon-daochu"},on:{click:e.excelExport}},[e._v("导出")])],1),a("div",{staticClass:"searchBox"},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"75px"}},[a("el-row",[a("el-form-item",{attrs:{label:"板块"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.a,callback:function(t){e.$set(e.queryParams,"a","string"===typeof t?t.trim():t)},expression:"queryParams.a"}},e._l(e.comOption,function(e){return a("el-option",{key:e.companyId,attrs:{label:e.companyName,value:e.companyId}})}),1)],1),a("el-form-item",{attrs:{label:"企业"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.companySendName,callback:function(t){e.$set(e.queryParams,"companySendName","string"===typeof t?t.trim():t)},expression:"queryParams.companySendName"}},e._l(e.companyOption,function(e){return a("el-option",{key:e.code,attrs:{label:e.sname,value:e.code}})}),1)],1),a("el-form-item",{attrs:{label:"开始月份"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.datePick},model:{value:e.dateArr,callback:function(t){e.dateArr=t},expression:"dateArr"}})],1)],1),a("el-form-item",{attrs:{label:"报表名称"}},[a("el-select",{attrs:{size:"small",clearable:""},on:{change:e.reportChange},model:{value:e.queryParams.reportId,callback:function(t){e.$set(e.queryParams,"reportId","string"===typeof t?t.trim():t)},expression:"queryParams.reportId"}},e._l(e.selectOption,function(e){return a("el-option",{key:e.id,attrs:{label:e.reportName,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"报表状态"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status","string"===typeof t?t.trim():t)},expression:"queryParams.status"}},e._l(e.statusOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",[a("el-button",{staticClass:"delBtn btn-chaxun",attrs:{type:"primary",icon:"iconfont icon-chaxun"}},[e._v("查询")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"contentBox"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabData,function(e){return a("el-tab-pane",{key:e.id,attrs:{label:e.reportName,name:e.id.toString()}})}),1),a("MyTable",{key:e.mytableKey,staticStyle:{width:"100%"},attrs:{col:e.currentTabDataTitle,data:e.currentTabDataInfo,forceChange:e.mytableKey}})],1)])])])])},s=[],i=a("cebc"),r=a("795b"),o=a.n(r),l=a("f499"),c=a.n(l),u=(a("c5f6"),a("5176")),p=a.n(u),m=a("75fc"),d=(a("96cf"),a("3b8d")),h=(a("6b54"),a("c113")),f=a("c1df"),b=a.n(f),g=a("ece8"),y={name:"WorkRepFormFill",components:{MyTable:g["a"]},mixins:[h["a"]],data:function(){return{headerTitle:"工作报表填报",queryParams:{companySendName:null,endReportTime:null,startReportTime:null,pageNumber:1,pageSize:20,reportId:null,status:null},mytableKey:"123",tableLoading:!1,tableData:[],total:0,comOption:[],dateArr:[],selectOption:[],tabData:[],currentTabDataTitle:[],fixedTitle:[{label:"填报单位",fix:!0,id:"companySendName"},{label:"报表月份",fix:!0,id:"reportTime"},{label:"报表名称",fix:!0,id:"reportName"},{label:"报表状态",fix:!0,id:"status"}],fixedData:{companySendName:"",reportTime:"",reportName:"",status:0},currentTabDataInfo:[{}],activeTab:null,salesUnitOption:[{value:"",label:"全部"},{value:"油气田板块",label:"油气田板块"},{value:"炼化板块",label:"炼化板块"},{value:"销售板块",label:"销售板块"},{value:"其他板块",label:"其他板块"}],companyOption:[{code:"",sname:"全部"},{code:"胜利油田",sname:"胜利油田"},{code:"天津石油",sname:"天津石油"},{code:"化工销售公司",sname:"化工销售公司"},{code:"新气管道公司",sname:"新气管道公司"},{code:"河南石油",sname:"河南石油"},{code:"润滑油分公司",sname:"润滑油分公司"},{code:"炼油销售公司",sname:"炼油销售公司"}],statusOption:[{label:"全部",value:""},{label:"已下发",value:"1"},{label:"未下发",value:"0"}]}},computed:{},watch:{},created:function(){},mounted:function(){this.getOption()},methods:{reportChange:function(){for(var e in this.selectOption)if(this.selectOption[e].id===this.queryParams.reportId)return void(this.selectOption[e].children.length>0&&(this.tabData=this.selectOption[e].children,this.activeTab=this.tabData[0].id.toString(),this.tabTableGet(this.activeTab)))},tabTableGet:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var a,n,s,i,r,o,l,c,u,d,h,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,this.$store.commit("setTableTypeTrue"),e.next=4,this.tabTitle(t);case 4:return a=e.sent,n=this.dataDeal(a),e.next=8,this.tabContent();case 8:if(s=e.sent,this.currentTabDataTitle=[].concat(Object(m["a"])(this.fixedTitle),Object(m["a"])(n)),this.currentTabDataInfo=[],0===s.length){for(this.currentTabDataTitle=[].concat(Object(m["a"])(this.fixedTitle),Object(m["a"])(n)),a[0].reportInfo&&(this.fixedData.companySendName=a[0].reportInfo.companySendName,this.fixedData.reportTime=a[0].reportInfo.reportTime,this.fixedData.reportName=a[0].reportInfo.reportName,this.fixedData.status=a[0].reportInfo.status),i=p()({},this.fixedData),r=0;r<a.length;r++)this.$set(i,a[r].id,"");this.currentTabDataInfo.push(i)}else for(o=0;o<s.length;o++)if(l=s[o],l.reportData){for(d in c=JSON.parse(l.reportData),u=p()({},this.fixedData,c),u)this.$set(u,d,u[d]);this.currentTabDataInfo.push(u)}else{for(this.currentTabDataTitle=[].concat(Object(m["a"])(this.fixedTitle),Object(m["a"])(n)),h=p()({},this.fixedData),f=0;f<a.length;f++)this.$set(h,a[f].id,"");h.id=l.id,this.currentTabDataInfo.push(h)}this.mytableKey=(new Date).getTime(),this.tableLoading=!1;case 19:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleClick:function(){this.currentTabDataInfo=[],this.currentTabDataTitle=[],this.tabTableGet(this.activeTab)},storeTab:function(){var e=this,t=this.$store.state.rowInfo;if(0!==t.length)if(t.length>1)this.$message({type:"error",message:"请只选择一行！"});else if(0!==t[0].status){var a={id:Number(t[0].id),reportData:c()(t[0])};this.$http.post(this.$API.GA_POST_TABLESTORE,a).then(function(t){t.success&&e.$message({type:"success",message:"保存成功"})}).catch(function(){e.$message({type:"error",message:"保存失败！"})})}else this.$message({type:"warning",message:"已提交数据无法修改！"})},submitLines:function(){var e=this,t=this.$store.state.rowInfo;if(0!==t.length){for(var a=[],n=0;n<t.length;n++){if(0===t[n].status)return void this.$message({type:"warning",message:"存在已提交数据！"});a.push(t[n].id)}a=c()(a),this.$http.putPro(this.$API.GA_POST_TABLEREALSUBMIT,a).then(function(t){t.success&&e.$message({type:"success",message:"提交成功！"})}).catch(function(){e.$message({type:"error",message:"提交失败！"})})}else this.$message({type:"warning",message:"请选择提交数据！"})},excelExport:function(){if(this.activeTab&&0!==this.activeTab){var e=Number(this.activeTab),t="".concat(this.$API.GA_POST_TABLEEXCEL,"?reportId=").concat(e);this.$http.exportExcel(t,null).then(function(e){}).catch(function(){})}else this.$message({type:"warning",message:"请先选择表！"})},getOption:function(){var e=this;this.$http.get(this.$API.GA_POST_TABLESUBMITSELECT).then(function(t){t.success&&(e.selectOption=t.data)}).catch(function(){e.$message({type:"error",message:"查询失败！"})})},nameGet:function(e){for(var t=0;t<this.selectOption.length;t++)if(this.selectOption[t].id===e)return this.selectOption[t].reportName},tabTitle:function(e){var t=this;return new o.a(function(a,n){t.$http.get(t.$API.GA_POST_TABLETITLEPREVIEW,{reportId:Number(e)}).then(function(e){e.success?a(e.data):a([])}).catch()})},tabContent:function(){var e=this;return new o.a(function(t,a){var n=p()({},e.queryParams);n.reportId=e.activeTab,n.pageNumber=n.pageNumber-1,e.$http.get(e.$API.GA_POST_TABLESUBMIT,n).then(function(e){e.success?t(e.data.content):t({})}).catch(function(){e.$message({type:"error",message:"查询失败！"})})})},datePick:function(){this.queryParams.startReportTime=b()(this.dateArr[0]).format("YYYY-MM-DD"),this.queryParams.endReportTime=b()(this.dateArr[1]).format("YYYY-MM-DD")},dataDeal:function(e){for(var t=this.lineToTree(e,"titleLvl1"),a=0;a<t.length;a++){t[a].children=this.lineToTree(t[a].children,"titleLvl2");for(var n=0;n<t[a].children.length;n++){t[a].children[n].children=this.lineToTree(t[a].children[n].children,"titleLvl3");for(var s=0;s<t[a].children[n].children.length;s++)for(var i=0;i<t[a].children[n].children[s].children.length;i++)t[a].children[n].children[s].children[i].label=t[a].children[n].children[s].children[i].titleLvl4}}return t},lineToTree:function(e,t){for(var a=[],n=[],s=0;s<e.length;s++){var i=this.ifExist(a,e[s][t]);if(i.bool){var r=p()({},e[s]);r.children=[],n[i.index].children.push(r)}else{if(!e[s][t])continue;a.push(e[s][t]);var o={label:e[s][t],id:e[s].id,children:[]};o.children.push(e[s]),n.push(o)}}return n},ifExist:function(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return{bool:!0,index:a};return{bool:!1,index:null}}}},v=Object(i["a"])({},y),C=v,T=(a("d908"),a("2877")),S=Object(T["a"])(C,n,s,!1,null,"13f2716a",null);t["default"]=S.exports},d593:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("base-page",{staticClass:"sysConf-warp"},[a("div",{staticClass:"bodyCommonBox"},[a("div",{staticClass:"headerTitleDiv"},[a("div",{staticClass:"headerTitle"},[e._v("绿化工作报表填报单位配置")])]),a("div",{staticClass:"sysConf-tabsBox"},[a("div",{staticClass:"sysConf-searchBox clearfix"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("self-search",{ref:"$baseGenerateSearch",staticClass:"searchForm",attrs:{searchOpts:e.colModel},on:{"on-search":e.onSearch}})],1)]),a("div",{staticClass:"permission-parameters-tableBox"},[a("el-table",{attrs:{data:e.permissionparametersTableData,total:e.total,pageSize:e.pageSize,pageSizes:e.pageSizes,currentPage:e.currentPage,isPage:e.isPage,loading:e.loading},on:{"update:total":function(t){e.total=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"reportName",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["义务植树情况表"===t.row.reportName||"绿化分区情况"===t.row.reportName||"古树名木调查表"===t.row.reportName?a("span",{staticClass:"blueName",on:{click:function(a){return e.onBtnClick(t)}}},[e._v("编辑")]):a("span")]}}])}),a("el-table-column",{attrs:{prop:"companyName",align:"center",label:"企业"}}),a("el-table-column",{attrs:{prop:"reportName",align:"center",label:"报表页面名称"}}),a("el-table-column",{attrs:{prop:"secondaryCompany",align:"center",label:"填报单位"}}),a("el-table-column",{attrs:{prop:"mntDate",align:"center",label:"维护时间"}}),a("el-table-column",{attrs:{prop:"mntPerson",align:"center",label:"维护人"}})],1)],1),a("el-dialog",{attrs:{title:"填报绿化工作报表单位配置",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"addBox"},[a("div",{staticClass:"addSearchBox"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"search-item-wrap"},[a("el-button",{staticClass:"qd btn-baocun",staticStyle:{float:"right"},attrs:{type:"primary",icon:"iconfont icon-baocun"},on:{click:e.dialogVisibleBC}},[e._v("保存")])],1)])]),a("div",{staticClass:"permission-parameters-tableBox"},[a("el-form",{ref:"tGaConfigSecondaryCompany",attrs:{model:e.tGaConfigSecondaryCompany,rules:e.tGaConfigSecondaryCompanyValidate,"label-width":"170px"}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"报表页面名称:",prop:"reportName",rules:{required:!0,message:"报表页面名称不能为空",trigger:"change"}}},[a("el-input",{staticClass:"w70",attrs:{disabled:"disabled"},model:{value:e.tGaConfigSecondaryCompany.reportName,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"reportName",t)},expression:"tGaConfigSecondaryCompany.reportName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"企业类别:",prop:"companyCategory",rules:{required:!0,message:"企业类别不能为空",trigger:"change"}}},[a("el-input",{staticClass:"w70",attrs:{disabled:"disabled"},model:{value:e.tGaConfigSecondaryCompany.companyCategoryShow,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"companyCategoryShow",t)},expression:"tGaConfigSecondaryCompany.companyCategoryShow"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"企业:",prop:"companyName",rules:{required:!0,message:"企业不能为空",trigger:"change"}}},[a("el-input",{staticClass:"w70",attrs:{disabled:"disabled"},model:{value:e.tGaConfigSecondaryCompany.companyName,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"companyName",t)},expression:"tGaConfigSecondaryCompany.companyName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"填报级别:",prop:"fillLeave",rules:{required:!0,message:"填报级别不能为空",trigger:"change"}}},[a("el-select",{staticClass:"w70",model:{value:e.tGaConfigSecondaryCompany.fillLeave,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"fillLeave",t)},expression:"tGaConfigSecondaryCompany.fillLeave"}},e._l(e.fillLeaveList,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"下发二级单位:",prop:"tGaSecondaryCompanyCodes",rules:{required:!0,message:"下发二级单位不能为空",trigger:"blur"}}},[a("el-select",{staticClass:"w70",attrs:{multiple:""},model:{value:e.tGaConfigSecondaryCompany.tGaSecondaryCompanyCodes,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"tGaSecondaryCompanyCodes",t)},expression:"tGaConfigSecondaryCompany.tGaSecondaryCompanyCodes"}},e._l(e.secondaryCompanyList,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.sname}})}),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"维护时间:",prop:"mntDate"}},[a("el-input",{staticClass:"w70",attrs:{disabled:"disabled"},model:{value:e.tGaConfigSecondaryCompany.mntDate,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"mntDate",t)},expression:"tGaConfigSecondaryCompany.mntDate"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"维护人:",prop:"mntPerson"}},[a("el-input",{staticClass:"w70",attrs:{disabled:"disabled"},model:{value:e.tGaConfigSecondaryCompany.mntPerson,callback:function(t){e.$set(e.tGaConfigSecondaryCompany,"mntPerson",t)},expression:"tGaConfigSecondaryCompany.mntPerson"}})],1)],1)],1)],1)],1)])])],1)])])])},s=[],i=a("cebc"),r=a("e814"),o=a.n(r),l=a("f499"),c=a.n(l),u=(a("ac6a"),a("96cf"),a("3b8d")),p=a("c113"),m={name:"FillDepartmentConfig",components:{},mixins:[p["a"]],data:function(){return{tGaConfigSecondaryCompanyValidate:{},tabPosition:"left",isPage:!0,height:500,isAdd:!0,isEdit:!1,isCZ:!0,isCZName:"SelfBtn",btnList:[{name:"编辑"}],companyList:[],companyCategoryList:[],colModel:[{prop:"companyCategory",label:"企业类别：",placeholder:"请选择企业类别",isAll:!1,isChange:!0,opts:{type:"select",props:{label:"value",value:"key"},data:this.companyCategoryList}},{prop:"companyName",label:"企业：",placeholder:"请选择企业",isAll:!1,isChange:!0,opts:{type:"select",props:{label:"companyName",value:"companyName"},data:this.companyList}}],dialogVisible:!1,permissionparametersTablecolumn:[{title:"企业",align:"center",value:"companyName"},{title:"报表页面名称",align:"center",value:"reportName"},{title:"填报单位",align:"center",value:"secondaryCompany"},{title:"维护时间",align:"center",value:"mntDate"},{title:"维护人",align:"center",value:"mntPerson"}],userName:"",loading:!0,isSelect:!0,url:{list:this.$API.GA_GET_SELECTTGACONFIGSECONDARYCOMPANY_LIST},enterpriseCategory:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST,enterpriseList:this.$API.GA_GET_SELECTALLTGACOMPANYNAME_LIST,secondaryCompanyList:[{code:1,sname:"二级单位1"},{code:2,sname:"二级单位2"},{code:3,sname:"二级单位3"},{code:4,sname:"二级单位4"}],tGaConfigSecondaryCompany:{},fillLeaveList:[{value:1,label:"企业"},{value:2,label:"二级单位"}],epCompanyCategoryList:[{value:1,label:"油田企业"},{value:2,label:"炼化企业"},{value:3,label:"销售企业"},{value:4,label:"其他"}],permissionparametersTableData:[]}},computed:{},watch:{},created:function(){},beforeMount:function(){var e=this,t=new FormData;this.$http.get(this.$API.GA_GET_SELECTCOMPANYNAMEANDCATEGORYBYUSER,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null!==a.data&&(e.colModel[0].opts.data=a.data.companyCategoryList,e.colModel[1].opts.data=a.data.companyList),e.init(e.colModel);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.$http.post(this.$API.GA_GET_SELECTUSEROUCODE,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var a=Object(u["a"])(regeneratorRuntime.mark(function a(n){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e.$http.get(e.$API.GA_GET_SECDEPT+"?companyCode="+n.data+"&isAll=true",t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.secondaryCompanyList=a.data,e.secondaryCompanyList.splice(0,1);case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(e){}),this.$http.post(this.$API.GA_POST_SELECTUSERNAME,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.userName=a.data;case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){}),this.$http.post(this.$API.GA_GET_SELECTUSEROUCODE,t,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){})},mounted:function(){},methods:{getUserName:function(){return this.userName},getNewTime:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":",i=e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":",r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),o=t+"-"+a+"-"+n+" "+s+i+r;return o},clickNavItem:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.upListData(this.url.list);case 2:a=e.sent,this.upListDataFun(a);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),upListDataFun:function(e){void 0!==e.data&&e.data.content.forEach(function(e){1===e.companyCategory?e.companyCategoryShow="油田企业":2===e.companyCategory?e.companyCategoryShow="炼化企业":3===e.companyCategory?e.companyCategoryShow="销售企业":4===e.companyCategory&&(e.companyCategoryShow="其他企业");var t=[];e.tGaSecondaryCompanies.forEach(function(e){t.push(e.code)}),e.tGaSecondaryCompanyCodes=t}),this.loading=!1,this.permissionparametersTableData=[];var t=JSON.parse(c()(e.data.content));this.permissionparametersTableData=t,this.total=o()(e.data.totalElements)},handleClose:function(){this.dialogVisible=!1},dialogVisibleBC:function(){var e=this;try{this.$refs["tGaConfigSecondaryCompany"].validate(function(t){if(t){var a=e.getUserName(),n=e.getNewTime();e.tGaConfigSecondaryCompany.mntDate=n,e.tGaConfigSecondaryCompany.mntPerson=a;var s=[],i=e.tGaConfigSecondaryCompany.tGaSecondaryCompanyCodes;e.secondaryCompanyList.forEach(function(e){for(var t=e.code,a=0;a<i.length;a++)i[a]===t&&s.push(e);e.secondaryCompany=e.sname}),e.tGaConfigSecondaryCompany.tGaSecondaryCompanies=s,e.$http.post(e.$API.GA_UPDATE_TGACONFIGSECONDARYCOMPANY,e.tGaConfigSecondaryCompany,{headers:{"Content-Type":"application/x-w ww-form-urlencoded; charset=UTF-8"}}).then(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.$message({type:"success",message:"保存成功"}),e.dialogVisible=!1,t.next=5,e.upListData(e.url.list);case 5:n=t.sent,e.upListDataFun(n);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}catch(t){}},onBtnClick:function(e){this.dialogVisible=!0,this.tGaConfigSecondaryCompany=e.row}}},d=Object(i["a"])({},m),h=d,f=(a("6876"),a("bfbf"),a("2877")),b=Object(f["a"])(h,n,s,!1,null,"7082c19d",null);t["default"]=b.exports},d630:function(e,t,a){"use strict";var n=a("81a5"),s=a.n(n);s.a},d908:function(e,t,a){"use strict";var n=a("5498"),s=a.n(n);s.a},dce1:function(e,t,a){},ea0f:function(e,t,a){"use strict";var n=a("46b4"),s=a.n(n);s.a},ece8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-table"},[a("el-table",{key:e.forceChange,attrs:{data:e.data},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.col,function(e,t){return a("my-column",{key:t,attrs:{col:e}})})],2)],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table-column",{attrs:{label:e.col.label,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e.col.children&&0!=e.col.children.length?void 0:[e.ifChange&&!e.col.fix?a("el-input",{on:{input:function(a){return e.dataIn(t.row,e.col.id,a)}},model:{value:t.row[e.col.id],callback:function(a){e.$set(t.row,e.col.id,a)},expression:"scope.row[col.id]"}}):e._e(),!e.ifChange||e.col.fix?a("div",{staticClass:"colDiv"},[e._v(e._s(t.row[e.col.id]))]):e._e()]}}],null,!0)},[e.col.children&&e.col.children.length?e._l(e.col.children,function(e,t){return a("my-column",{key:t,attrs:{col:e}})}):e._e()],2)},r=[],o={name:"myColumn",props:["col"],data:function(){return{}},components:{},computed:{ifChange:function(){return this.$store.state.tableType}},mounted:function(){},methods:{dataIn:function(e,t,a){}}},l=o,c=(a("ea0f"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,"f95aaf24",null),p=u.exports,m={name:"myTable",props:["col","data","forceChange"],data:function(){return{}},components:{MyColumn:p},watch:{data:function(e,t){}},computed:{ifChange:function(){return this.$store.state.tableType}},mounted:function(){},methods:{selectionChange:function(e){this.$store.commit("setRowInfo",e)}}},d=m,h=Object(c["a"])(d,n,s,!1,null,"0f43455c",null);t["a"]=h.exports}}]);